import{_ as t}from"./CanSDfN_.js";import{r as m,n as A,c as F,a as d,t as G,b as s,F as E,o as H}from"./99rBAAkA.js";const I=d("div",null," Page: Calculator ",-1),h={class:"rounded-2xl w-72 h-fit mx-auto bg-gradient-to-r from-gray-400 to-gray-200 cal-shadow"},D={class:"result w-auto h-24 text-2xl text-white rounded-t-2xl flex justify-end items-end bg-gradient-to-r from-gray-900 to-gray-500"},T={class:"mx-5 mb-2"},V={class:"flex mt-2 mx-4"},P={class:"flex mx-4"},j={class:"flex mx-4"},q={class:"flex mx-4"},_={class:"flex mx-4"},L={__name:"calculator",setup(z){const e=m(""),n=m(""),o=m(""),v=m(""),c=m(!0),a=m(""),r=m(""),b=m("AC"),i=m(""),f=(u,l,g)=>{switch(u=parseFloat(u)||0,l=parseFloat(l)||0,g){case"+":return(u+l).toString();case"-":return(u-l).toString();case"*":return(u*l).toString();case"/":return l!==0?(u/l).toString():"Error";default:return l.toString()}},p=u=>{c.value?(e.value=u.toString(),c.value=!1,console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("A------------------")):(e.value=e.value==="0"?u.toString():e.value+u.toString(),console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("B------------------")),N()},C=u=>{i.value=u,c.value||x(),u==="*"||u==="/"?o.value=u:(u==="+"||u==="-")&&(o.value?a.value=u:o.value=u),c.value=!0,N()},x=()=>{o.value==="*"||o.value==="/"?(n.value=f(n.value||e.value,e.value,o.value),e.value=f(r.value,n.value,a.value),r.value=e.value,a.value="",o.value="",console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("C------------------")):o.value?(a.value?(r.value=f(r.value||n.value,e.value,a.value),n.value=e.value,e.value=r.value,a.value="",console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("D------------------")):i.value==="*"||i.value==="/"?(n.value=e.value,a.value=o.value,e.value=n.value,console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("E------------------")):(n.value=e.value,e.value=f(r.value||n.value,e.value,o.value),r.value=e.value,a.value="",console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("F------------------")),o.value=""):(r.value=e.value,n.value=e.value,a.value=o.value,console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("G------------------"))},O=()=>{e.value=(parseFloat(e.value)*-1).toString(),N()},k=()=>{x(),a.value?(v.value=f(r.value,e.value,a.value),console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("=A------------------")):o.value?(v.value=f(r.value,e.value,o.value),console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("=B------------------")):(v.value=e.value,console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("lastOperator:",i.value),console.log("result:",v.value),console.log("=C------------------")),e.value=v.value,n.value=v.value,r.value=v.value,o.value="",a.value="",i.value="",c.value=!0},y=()=>{b.value==="AC"?(e.value="0",n.value="",r.value="",o.value="",a.value="",i.value="",v.value="",c.value=!0,console.log("按下AC------全清空------")):(e.value="0",i.value="",c.value=!0,console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("result:",v.value),console.log("按下C------------------")),b.value="AC"},N=()=>{b.value=e.value!=="0"||n.value!==""||r.value!==""||o.value!==""||a.value!==""||v.value!==""?"C":"AC"},$=()=>{e.value.includes(".")?c.value&&(e.value="0.",c.value=!1,console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("result:",v.value),console.log("IIIII------")):c.value?(e.value="0.",c.value=!1,console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("result:",v.value),console.log("GGGGG------")):(e.value+=".",c.value=!1,console.log("pendingNumber:",r.value),console.log("previousNumber:",n.value),console.log("currentNumber:",e.value),console.log("operation:",o.value),console.log("pendingOperation:",a.value),console.log("result:",v.value),console.log("HHHHH------")),N()},w=()=>{e.value!==""&&(e.value=(parseFloat(e.value)*.01).toString()),N()},S=u=>{if(u==="Error")return u;u=u.toString(),u==="."&&(u="0.");let[l,g]=u.split(".");return l=l.replace(/\B(?=(\d{3})+(?!\d))/g,","),g!==void 0?`${l}.${g}`:l},B=A(()=>S(e.value));return(u,l)=>(H(),F(E,null,[I,d("div",h,[d("div",D,[d("h4",T,G(B.value),1)]),d("div",V,[s(t,{value:b.value,onClick:y,class:"from-gray-900 to-gray-500 active:from-gray-950 active:to-gray-600 text-white"},null,8,["value"]),s(t,{value:"±",onClick:O,class:"from-gray-900 to-gray-500 active:from-gray-950 active:to-gray-600 text-white"}),s(t,{value:"%",onClick:w,class:"from-gray-900 to-gray-500 active:from-gray-950 active:to-gray-600 text-white"}),s(t,{value:"÷",onClick:l[0]||(l[0]=g=>C("/")),class:"from-orange-600 to-orange-300 active:from-orange-700 active:to-orange-400 text-white"})]),d("div",P,[s(t,{value:"7",onClick:l[1]||(l[1]=g=>p(7))}),s(t,{value:"8",onClick:l[2]||(l[2]=g=>p(8))}),s(t,{value:"9",onClick:l[3]||(l[3]=g=>p(9))}),s(t,{value:"x",onClick:l[4]||(l[4]=g=>C("*")),class:"from-orange-600 to-orange-300 active:from-orange-700 active:to-orange-400 text-white"})]),d("div",j,[s(t,{value:"4",onClick:l[5]||(l[5]=g=>p(4))}),s(t,{value:"5",onClick:l[6]||(l[6]=g=>p(5))}),s(t,{value:"6",onClick:l[7]||(l[7]=g=>p(6))}),s(t,{value:"-",onClick:l[8]||(l[8]=g=>C("-")),class:"from-orange-600 to-orange-300 active:from-orange-700 active:to-orange-400 text-white"})]),d("div",q,[s(t,{value:"1",onClick:l[9]||(l[9]=g=>p(1))}),s(t,{value:"2",onClick:l[10]||(l[10]=g=>p(2))}),s(t,{value:"3",onClick:l[11]||(l[11]=g=>p(3))}),s(t,{value:"+",onClick:l[12]||(l[12]=g=>C("+")),class:"from-orange-600 to-orange-300 active:from-orange-700 active:to-orange-400 text-white"})]),d("div",_,[s(t,{value:"0",onClick:l[13]||(l[13]=g=>p(0)),class:"w-30 mb-5"}),s(t,{value:".",onClick:$}),s(t,{value:"=",onClick:k,class:"from-orange-600 to-orange-300 active:from-orange-700 active:to-orange-400 text-white"})])])],64))}};export{L as default};
