import{_ as z}from"./DsXjLOw6.js";import{z as V,r as u,f as S,o as v,c as x,b,w as g,a as e,A as d,B as E,q as N,C as O,j as R,D as _,E as U,G as j,H as D,t as w,I as f,T as A,d as k,J as C,K as q,v as P,L as T}from"./a5jSRV0N.js";const G={class:"bg-slate-200 h-fit rounded-lg p-3 mb-4 min-w-40"},xe={__name:"LeftBar",setup(s){const o=V(),t=u({dashboard:!1,pinned:!1,todos:!1,completed:!1});return S(()=>{t.value={dashboard:o.path==="/todolist/dashboard",pinned:o.path==="/todolist/pinned",todos:o.path==="/todolist/todos",completed:o.path==="/todolist/completed"}}),(n,l)=>{const a=z;return v(),x("div",G,[b(a,{to:"/todolist/dashboard"},{default:g(()=>[e("div",{class:d(["group flex rounded-lg py-2 px-3 mx-auto my-1 hover:bg-slate-500",{"bg-slate-600":t.value.dashboard}])},[e("i",{class:d(["ri-dashboard-fill group-hover:text-slate-50",t.value.dashboard?"text-slate-50":"text-slate-900"])},null,2),e("h5",{class:d(["ps-1 group-hover:text-slate-50",t.value.dashboard?"text-slate-50":""])},"Dashboard",2)],2)]),_:1}),b(a,{to:"/todolist/pinned"},{default:g(()=>[e("div",{class:d(["group flex rounded-lg py-2 px-3 mx-auto my-1 hover:bg-slate-500",{"bg-slate-600":t.value.pinned}])},[e("i",{class:d(["ri-pushpin-fill group-hover:text-slate-50",t.value.pinned?"text-slate-50":"text-slate-900"])},null,2),e("h5",{class:d(["ps-1 group-hover:text-slate-50",t.value.pinned?"text-slate-50":""])},"Pinned",2)],2)]),_:1}),b(a,{to:"/todolist/todos"},{default:g(()=>[e("div",{class:d(["group flex rounded-lg py-2 px-3 mx-auto my-1 hover:bg-slate-500",{"bg-slate-600":t.value.todos}])},[e("i",{class:d(["ri-list-check group-hover:text-slate-50",t.value.todos?"text-slate-50":"text-slate-900"])},null,2),e("h5",{class:d(["ps-1 group-hover:text-slate-50",t.value.todos?"text-slate-50":""])},"Todos",2)],2)]),_:1}),b(a,{to:"/todolist/completed"},{default:g(()=>[e("div",{class:d(["group flex rounded-lg py-2 px-3 mx-auto my-1 hover:bg-slate-500",{"bg-slate-600":t.value.completed}])},[e("i",{class:d(["ri-checkbox-fill group-hover:text-slate-50",t.value.completed?"text-slate-50":"text-slate-900"])},null,2),e("h5",{class:d(["ps-1 group-hover:text-slate-50",t.value.completed?"text-slate-50":""])},"Completed",2)],2)]),_:1})])}}},$=E("todos",{state:()=>({todos:[{id:1,title:"寫code啊",content:"我不要嗚嗚嗚",isFinished:!1,isPinned:!1},{id:2,title:"掃地了喔",content:"好啦好啦",isFinished:!0,isPinned:!1},{id:3,title:"我想回家",content:"門在那",isFinished:!1,isPinned:!1},{id:4,title:"游泳",content:"一週三次",isFinished:!0,isPinned:!1},{id:5,title:"吃晚餐",content:"吃什麼",isFinished:!1,isPinned:!0}]}),getters:{completedTodos(s){return s.todos.filter(o=>o.isFinished)}},actions:{addTodo(s,o){s.length!=0&&(this.todos.push({id:Math.floor(Math.random()*1e5),title:s,content:o,isFinished:!1,isPinned:!1}),s="",o="")},editTodo(s,o,t){const n=Number(s),l=this.todos.findIndex(a=>a.id===n);return l===-1?(console.error("待辦事項未找到"),!1):o.trim().length===0?(console.error("標題不能為空"),!1):(this.todos[l]={...this.todos[l],title:o.trim(),content:t.trim()},!0)},toggleTodo(s){const o=this.todos.findIndex(t=>t.id===s);this.todos[o].isFinished=!this.todos[o].isFinished},pinTodo(s){const o=this.todos.findIndex(t=>t.id===s);this.todos[o].isPinned=!this.todos[o].isPinned},deleteTodo(s){const o=this.todos.findIndex(t=>t.id===s);this.todos.splice(o,1)}}}),H={class:"w-fill flex p-4 bg-slate-400 text-slate-50 items-start rounded-lg hover:shadow-slate-200/50 shadow-xl relative"},J={class:"inline-flex items-center mt-1 me-1"},K={class:"flex items-center cursor-pointer relative"},Q=e("span",{class:"absolute text-white opacity-0 peer-checked:opacity-100 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),W={class:"px-3 me-auto"},X={class:"text-xl"},Y={class:"text-base font-extralight"},Z=e("i",{class:"ri-more-fill"},null,-1),ee=[Z],te={class:"text-slate-900 p-1 m-1"},oe=e("i",{class:"ri-edit-2-fill me-2"},null,-1),se=e("i",{class:"ri-delete-bin-6-fill me-2"},null,-1),be={__name:"TodoCard",props:["todo"],emits:["edit"],setup(s,{emit:o}){const t=s,n=$(),l=u(!1),a=u(null),p=u(null),c=o,m=N({get:()=>t.todo.isFinished,set:y=>n.toggleTodo(t.todo.id)}),h=()=>{l.value=!l.value},i=()=>{l.value=!1},r=y=>{a.value&&!a.value.contains(y.target)&&p.value&&!p.value.contains(y.target)&&i()},F=()=>{n.pinTodo(t.todo.id),i()},I=()=>{c("edit",t.todo.id),i()},B=()=>{n.deleteTodo(t.todo.id),i()};return O(()=>{document.addEventListener("click",r)}),R(()=>{document.removeEventListener("click",r)}),(y,M)=>(v(),x("div",H,[e("div",J,[e("label",K,[_(e("input",{type:"checkbox","onUpdate:modelValue":M[0]||(M[0]=L=>D(m)?m.value=L:null),class:"peer h-5 w-5 cursor-pointer transition-all appearance-none rounded shadow hover:shadow-md border border-slate-300 checked:bg-slate-600 checked:border-sky-50"},null,512),[[U,j(m)]]),Q])]),e("div",W,[e("div",X,w(s.todo.title),1),e("div",Y,w(s.todo.content),1)]),e("button",{onClick:f(h,["stop"]),class:"toggle-button",ref_key:"buttonRef",ref:p},ee,512),b(A,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-90","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-90"},{default:g(()=>[l.value?(v(),x("div",{key:0,ref_key:"dropdownRef",ref:a,class:"absolute dropdown top-4 right-2 w-fit mt-8 bg-white border rounded-md shadow-lg z-10 transition-all duration-300 ease-in-out"},[e("ul",te,[e("li",{onClick:f(F,["stop"]),class:"px-3 rounded py-1 cursor-pointer hover:bg-slate-200"},[e("i",{class:d([s.todo.isPinned?"ri-unpin-fill":"ri-pushpin-fill","me-2"])},null,2),k(w(s.todo.isPinned?"Unpin":"Pin"),1)]),e("li",{onClick:f(I,["stop"]),class:"px-3 rounded py-1 cursor-pointer hover:bg-slate-200"},[oe,k("Edit")]),e("li",{onClick:f(B,["stop"]),class:"px-3 rounded py-1 cursor-pointer hover:bg-slate-200 text-red-600"},[se,k("Delete")])])],512)):C("",!0)]),_:1})]))}},le=e("i",{class:"ri-add-line text-lg font-medium p-1"},null,-1),ge={__name:"AddButton",setup(s){const o=u(""),t=()=>{o.value="New"},n=()=>{o.value=""};return(l,a)=>(v(),x("button",{class:"text-slate-50 bg-slate-700 hover:bg-slate-800 p-1 rounded-lg transition-all duration-300 ease-in-out",onClick:a[0]||(a[0]=p=>l.$emit("click")),onMouseover:t,onMouseleave:n},[le,e("span",{class:d([{"pe-2":o.value},"transition-opacity duration-300 ease-in-out"]),style:q({opacity:o.value?1:.25})},w(o.value),7)],32))}},ne={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},ae={class:"bg-white rounded-lg shadow-lg p-6 z-10 w-3/4 max-w-lg"},ie=e("label",{for:"title",class:"text-lg text-slate-600 mb-3"},"Title",-1),de=e("label",{for:"content",class:"text-lg text-slate-600 mb-2"},"Content",-1),re=e("button",{type:"submit",class:"bg-slate-800 hover:bg-slate-600 text-white py-2 px-4 rounded-md"}," Submit ",-1),_e={__name:"AddModal",props:{isOpen:Boolean},emits:["close"],setup(s,{emit:o}){const t=$(),n=u(""),l=u("");P(t);const{addTodo:a}=t,p=o,c=()=>{p("close")},m=()=>{a(n.value,l.value),n.value="",l.value="",c()};return(h,i)=>s.isOpen?(v(),x("div",ne,[e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:c}),e("div",ae,[e("form",{onSubmit:f(m,["prevent"])},[ie,_(e("input",{type:"text",id:"title",class:"border px-4 py-2 mb-2 rounded-lg w-full outline-cyan-500",placeholder:"標題...","onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r)},null,512),[[T,n.value]]),de,_(e("textarea",{id:"content",class:"border px-4 py-2 mb-2 rounded-lg w-full outline-cyan-500",placeholder:"待辦事項...","onUpdate:modelValue":i[1]||(i[1]=r=>l.value=r)},null,512),[[T,l.value]]),e("div",{class:"flex justify-end mt-6"},[e("button",{type:"button",onClick:c,class:"me-2 border border-slate-400 hover:bg-slate-200 text-slate-500 py-2 px-4 rounded-md"}," Cancel "),re])],32)])])):C("",!0)}},ce={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},ue={class:"bg-white rounded-lg shadow-lg p-6 z-10 w-3/4 max-w-lg"},pe=e("label",{for:"title",class:"text-lg text-slate-600 mb-3"},"Title",-1),he=e("label",{for:"content",class:"text-lg text-slate-600 mb-2"},"Content",-1),me=e("button",{type:"submit",class:"bg-slate-800 hover:bg-slate-600 text-white py-2 px-4 rounded-md"}," Edit ",-1),ye={__name:"EditModal",props:{isOpen:Boolean,editingTodoId:{type:[String,Number],default:null}},emits:["close"],setup(s,{emit:o}){const t=$(),n=u(""),l=u("");P(t);const a=s,p=o;S(()=>{if(a.editingTodoId){const h=t.todos.find(i=>i.id===a.editingTodoId);h&&(n.value=h.title,l.value=h.content)}else n.value="",l.value=""});const c=()=>{p("close")},m=()=>{a.editingTodoId&&(t.editTodo(a.editingTodoId,n.value,l.value)?c():console.error("編輯待辦事項失敗")),n.value="",l.value=""};return(h,i)=>s.isOpen?(v(),x("div",ce,[e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:c}),e("div",ue,[e("form",{onSubmit:f(m,["prevent"])},[pe,_(e("input",{type:"text",id:"title",class:"border px-4 py-2 mb-2 rounded-lg w-full outline-cyan-500",placeholder:"標題...","onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r)},null,512),[[T,n.value]]),he,_(e("textarea",{id:"content",class:"border px-4 py-2 mb-2 rounded-lg w-full outline-cyan-500",placeholder:"待辦事項...","onUpdate:modelValue":i[1]||(i[1]=r=>l.value=r)},null,512),[[T,l.value]]),e("div",{class:"flex justify-end mt-6"},[e("button",{type:"button",onClick:c,class:"me-2 border border-slate-400 hover:bg-slate-200 text-slate-500 py-2 px-4 rounded-md"}," Cancel "),me])],32)])])):C("",!0)}};export{_e as _,ye as a,xe as b,ge as c,be as d,$ as u};
